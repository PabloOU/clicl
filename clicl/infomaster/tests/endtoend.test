;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; End-to-end Tests;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;(restartsystem)*(setq *sourcery* (make-instance 'infoserver :name 'sourcery :kind 'fastserver))*(setq *targetry* (make-instance 'infoserver :name 'targetry :kind 'fastserver))*(loadrelation 'foo "gullible:infomaster:tests:loadfile.tdt" *sourcery* 'tdt 'dynamic)DONE(facts 'foo *manager*)((ISA FOO RELATION) (ISA FOO THING) (ARITY FOO 3) (SPECIALTY SOURCERY FOO) (SPECIALIST FOO SOURCERY) (TABLE SOURCERY FOO) (ARITY FOO 2) (ARITY FOO 1))(definemore *manager* '((column foo foo.1) (key foo foo.1)))*(reify 'foo)FOO.ENTITY(reifydata 'foo 'foo.entity *sourcery* *targetry*)DONE(contents *targetry*)((ISA AB FOO.ENTITY) (FOO.ENTITY.ISA AB) (FOO.ENTITY.1 AB "ab") (FOO.ENTITY.2 AB "cd") (FOO.ENTITY.3 AB "23") (ISA DE FOO.ENTITY) (FOO.ENTITY.ISA DE) (FOO.ENTITY.1 DE "de") (FOO.ENTITY.2 DE "fg") (FOO.ENTITY.3 DE "45"));;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;