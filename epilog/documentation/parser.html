<html><head><title>Minilog Test</title><script type='text/javascript'>var input = '';var output = '';var current = 0;function scan (str) {input = str;  output = new Array(0);  var cur = 0;  var len = input.length;  while (cur < len)   {var charcode = input.charCodeAt(cur);    if (charcode == 32) {cur++}    else if (charcode == 38) {output[output.length] = '&'; cur++}    else if (charcode == 40) {output[output.length] = 'lparen'; cur++}    else if (charcode == 41) {output[output.length] = 'rparen'; cur++}    else if (charcode == 43) {output[output.length] = '+'; cur++}    else if (charcode == 44) {output[output.length] = 'comma'; cur++}    else if (charcode == 45) {output[output.length] = '-'; cur++}    else if (charcode == 46) {output[output.length] = '.'; cur++}    else if (charcode == 58) {cur = scanrulesym(cur)}    else if (charcode == 124) {output[output.length] = '|'; cur++}    else if (charcode == 126) {output[output.length] = '~'; cur++}    else if (idcharp(charcode)) {cur = scansymbol(cur)}    else cur++};  return output}function scanrulesym (cur) {if (input.length > cur+1 && input.charCodeAt(cur+1) == 45)     {output[output.length] = ':-'; return cur+2}  else return cur+1}function scansymbol (cur) {var n = input.length;  var exp = '';  while (cur < n)   {if (idcharp(input.charCodeAt(cur))) {exp = exp + input[cur]; cur++}    else break};  if (exp != '') {output[output.length] = exp};  return cur}function idcharp (charcode) {if (charcode >= 47 && charcode <= 56) {return true};  if (charcode >= 65 && charcode <= 90) {return true};  if (charcode >= 97 && charcode <= 122) {return true};  return false}function parse (str) {str.push('eof');  input = str;  current = 0;  return parsexp('lparen','rparen')}function parsexp (lop,rop) {var left = parseprefix(rop);  while (current < input.length)   {if (input[current] == 'eof') {return left};    if (input[current] == 'lparen') {left = parseatom(left)};    if (input[current] == '.') {current++; return(left)};    if (precedencep(lop,input[current])) {return left};    left = parseinfix(left,input[current],rop)};  return left}function parseprefix (rop) {var left = input[current];  current++;  return left}function parseatom (left) {var exp = parseparenlist();  exp.unshift(left);  return exp}function parseparenlist () {var exp = new Array(0);  current++;  while (current < input.length)   {exp.push(parsexp('comma','rparen'));    if (input[current] == 'rparen') {current++; return exp};    if (input[current] == 'comma') {current++}    else {return exp}};  return exp}function parseinfix (left,op,rop) {var left;  if (op == ':-') {return parserule(left,rop)};  if (op == '&') {return parseand(left,rop)};  return left}function parseand (left,rop) {current++;  return makeconjunction(left,parsexp('&',rop))}function parserule (left,rop) {current++;  return makerule(left,parsexp(':-',rop))}function precedencep (lop,rop) {if (lop == '&')     {return rop == '|' || rop == '.' || rop == 'rparen' || rop == 'eof'};  if (lop == ':-')     {return rop == '.' || rop == 'rparen' || rop == 'eof'};  if (lop == 'comma')     {return rop == 'comma' || rop == '.' || rop == 'rparen' || rop == 'eof'};  return false}function grind (p) {if (symbolp(p)) {return p};  if (p[0] == 'not') {return grindnegation(p)};  if (p[0] == 'and') {return grindconjunction(p)};  if (p[0] == 'or') {return grinddisjunction(p)};  if (p[0] == 'rule') {return grindrule(p)};  return grindatom(p)}function grindatom (p) {var n = p.length;  var exp = p[0] + '(' + p[1];  for (var i=2; i<n; i++)      {exp = exp + ',' + p[i]}  exp = exp + ')';  return exp}function grindnegation (p) {return '-' + grind(p[1])}function grindconjunction (p) {return grind(p[1]) + ' & ' + grind(p[2])}function grinddisjunction (p) {return grind(p[1]) + ' | ' + grind(p[2])}function grindrule (p) {return grind(p[1]) + ' :- ' + grind(p[2])}function grinddata (data) {var exp = '';  var n = data.length;  for (var i=0; i<n; i++)      {exp = exp + grind(data[i]) + '<br/>'}  return exp}function grindalist (al) {var exp = '';  if (al == false) {return 'false'};  for (var l=al; !nullp(l); l=cdr(l))      {exp = exp + car(car(l)) + ' = ' + cdr(car(l)) + '<br/>'}  return exp}function makeatom (r,x,y) {var exp = new Array(3);  exp[0] = r;  exp[1] = x;  exp[2] = y;  return exp}function makenegation (p) {var exp = new Array(2);  exp[0] = 'not';  exp[1] = p;  return exp}function makeconjunction (p,q) {var exp = new Array(2);  exp[0] = 'and';  exp[1] = p;  exp[2] = q;  return exp}function makerule (head,body) {var exp = new Array(3);  exp[0] = 'rule';  exp[1] = head;  exp[2] = body;  return exp}var counter = 0;function newvar () {counter++;  return 'V' + counter}function varp (x) {return typeof x == 'string' && x[0] == x[0].toUpperCase()}function symbolp (x) {return typeof x == 'string'}function empty () {return new Array(0)}function rest (l) {var m  = l.slice(1,l.length);  return m}function append (l1,l2) {var m  = l1.concat(l2);  return m}var nil = 'nil';function cons (x,l) {var cell = new Array(2);  cell[0] = x;  cell[1] = l;  return cell}function car (l) {return l[0]}function cdr (l) {return l[1]}function nullp (l) {return l == 'nil'}function acons (x,y,al) {return cons(cons(x,y),al)}function assoc (x,al) {if (nullp(al)) {return false};  if (x == car(car(al))) {return car(al)};  return assoc(x,cdr(al))}var theory = new Array()function scanit () {var inp = document.getElementById('inputarea').value;  document.getElementById('outputarea').innerHTML = scan(inp)}function parseit () {var inp = document.getElementById('inputarea').value;  var str = scan(inp);  document.getElementById('outputarea').innerHTML = grind(parse(str))}function tryit () {var str = document.getElementById('scriptarea').value;  document.getElementById('valuearea').innerHTML = eval(str)}function clearem (area) {document.getElementById(area).innerHTML = ''}</script></head><body bgclor="white"><br/><center><h1>Minilog Parser</h1></center><hr/>Input:<br/><input type='text' id='inputarea' value='' size='80' maxlength='80'/><br/><input type='button' value="Scan" onClick='scanit()'/><input type='button' value="Parse" onClick='parseit()'/><br/><br/>Output:<br/><div id='outputarea'><br/></div><br/><input type='button' value="Clear" onClick='clearem("inputarea")'/><br/><hr/>Input:<br/><input type='text' id='scriptarea' value='' size='80' maxlength='80'/><br/><input type='button' value="Eval" onClick='tryit()'/><br/><br/>Output:<br/><div id='valuearea'><br/></div><br/><input type='button' value="Clear" onClick='clearem("scriptarea")'/><br/></body></html>