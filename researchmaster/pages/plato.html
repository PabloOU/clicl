<html>
<head><title>Plato: A Form Generation System</title>
<link rel="stylesheet" type="text/css" href="/docserver/infoserver/examples/researchmaster/style/main.css">
<link rel="stylesheet" type="text/css" href="/docserver/infoserver/examples/researchmaster/style/jack.css">
<link rel="stylesheet" type="text/css" href="/docserver/infoserver/examples/researchmaster/style/websheet.css">
<script src="/docserver/infoserver/examples/researchmaster/javascript/browser.js"></script>
<script src="/docserver/infoserver/examples/researchmaster/javascript/util.js"></script>
<script src="/docserver/infoserver/examples/researchmaster/javascript/spreadsheet.js"></script>
<script src="/docserver/infoserver/examples/researchmaster/javascript/ds.js"></script>
<script type="text/javascript">
var univ;

var component_color = new set("color", "vehicle");

var prettynames = new Object();
prettynames[undefined] = '';
prettynames[0] = '';
prettynames[1] = '1';
prettynames[2] = 'false';
prettynames[3] = 'true';
prettynames[4] = 'Camry';
prettynames[5] = 'Corolla';
prettynames[6] = 'Tundra';
prettynames[7] = 'Super White';
prettynames[8] = 'Magnetic Gray Metallic';
prettynames[9] = 'Black';
prettynames[10] = 'Nautical Blue Metallic';

var uglynames = new Object();
uglynames[''] = 0;
uglynames['1'] = 1;
uglynames['false'] = 2;
uglynames['true'] = 3;
uglynames['Camry'] = 4;
uglynames['Corolla'] = 5;
uglynames['Tundra'] = 6;
uglynames['Super White'] = 7;
uglynames['Magnetic Gray Metallic'] = 8;
uglynames['Black'] = 9;
uglynames['Nautical Blue Metallic'] = 10;

function init () { 
   casesensitive = true;
   allowconflicts = true;
   valuecount = 11;
   init_index();
   univ = ds.get(datastore, "univ");
   var mycellarray = new Array();
   mycellarray[0] = new cell('vehicle', ds.get(datastore, "vehicle_type"), "selector", negs_vehicle, undefined, negsupps_vehicle, undefined, negsuppx_vehicle, undefined, component_color, true, undefined, true);
   mycellarray[1] = new cell('color', ds.get(datastore, "color_type"), "selector", negs_color, poss_color, negsupps_color, possupps_color, negsuppx_color, possuppx_color, component_color, true, undefined, true);
   initspread(mycellarray); }

function external_init () {  }

function submitprep () { 
   var s = new set();
   if (!(findcell("vehicle").conflictset.empty())) {
      s.adjoin("vehicle");}
   if (!(findcell("color").conflictset.empty())) {
      s.adjoin("color");}
   if (!(s.empty())) {
      alert('Errors remain.  You must fix them before submitting.');
      return false;}
   clear_forced_gui();
   return true; }

var datastore;

function init_index () { 
   datastore = new dictionary();
   ds.set(datastore, "univ", new hashbag(new expr(0), new expr(1), new expr(2), new expr(3), new expr(4), new expr(5), new expr(6), new expr(7), new expr(8), new expr(9), new expr(10)));
   ds.set(datastore, "color_type", new set(new expr(7), new expr(8), new expr(9), new expr(10)));
   ds.set(datastore, "vehicle_type", new set(new expr(4), new expr(5), new expr(6)));
   ds.set(datastore, "boolean", new set(new expr(2), new expr(3))); }

function check_univ (x0) { return ds.member(ds.get(datastore, "univ"), new expr(x0), equalp); }

function check_boolean (x0) { return ds.member(ds.get(datastore, "boolean"), new expr(x0), equalp); }

function check_vehicle_type (x0) { return ds.member(ds.get(datastore, "vehicle_type"), new expr(x0), equalp); }

function check_color_type (x0) { return ds.member(ds.get(datastore, "color_type"), new expr(x0), equalp); }

function enum_univ (x0) { 
   
   return ds.get(datastore, "univ"); }

function enum_boolean (x0) { 
   
   return ds.get(datastore, "boolean"); }

function enum_vehicle_type (x0) { 
   
   return ds.get(datastore, "vehicle_type"); }

function enum_color_type (x0) { 
   
   return ds.get(datastore, "color_type"); }

function negx_color (x0) { return neg_color(function (newval, support, sofar) { 

return new pair(true, newval); }, x0); }

function negs_color (x0) { return neg_color(function (newval, support, sofar) { 

return new pair(false, ds.adjoin(sofar, newval, equalp)); }, x0); }

function negsuppx_color (x0) { return neg_color(function (newval, support, sofar) { 

return new pair(true, new pair(newval, support)); }, x0); }

function negsupps_color (x0) { return neg_color(function (newval, support, sofar) { 

return new pair(false, ds.adjoin(sofar, new pair(newval, support), equalp)); }, x0); }

function neg_color (onsuccess, x0) { 
   if (varp(x0)) {
      if (!(neg_color_f === undefined)) return neg_color_f(onsuccess, x0);
      else return undefined;}
   else {
      if (!(neg_color_b === undefined)) return neg_color_b(onsuccess, x0);
      else return undefined;} }

function neg_color_b (onsuccess, nsh1553) { 
   var sofar = new set();
   var tmp;
   var x0 = nsh1553;
   if (hascellvalue("vehicle")) {
      if (!(7 === x0)) {
         if (!(9 === x0)) {
            if (!(10 === x0)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(7 === x0)) {
         if (!(9 === x0)) {
            if (!(x0 === 10)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(7 === x0)) {
         if (!(x0 === 9)) {
            if (!(10 === x0)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(7 === x0)) {
         if (!(x0 === 9)) {
            if (!(x0 === 10)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(x0 === 7)) {
         if (!(9 === x0)) {
            if (!(10 === x0)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(x0 === 7)) {
         if (!(9 === x0)) {
            if (!(x0 === 10)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(x0 === 7)) {
         if (!(x0 === 9)) {
            if (!(10 === x0)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(x0 === 7)) {
         if (!(x0 === 9)) {
            if (!(x0 === 10)) {
               if (cellvalue("vehicle") === 6) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1553;}
      if (!(8 === x0)) {
         if (!(7 === x0)) {
            if (cellvalue("vehicle") === 5) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1553;}
      if (!(x0 === 7)) {
         if (!(8 === x0)) {
            if (cellvalue("vehicle") === 5) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1553;}
      if (!(x0 === 8)) {
         if (!(7 === x0)) {
            if (cellvalue("vehicle") === 5) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1553;}
      if (!(x0 === 8)) {
         if (!(x0 === 7)) {
            if (cellvalue("vehicle") === 5) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1553;}
      if (!(7 === x0)) {
         if (cellvalue("vehicle") === 4) {
            tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
            if (ds.first(tmp) === true) return ds.second(tmp);
            else sofar = ds.second(tmp);}
         x0 = nsh1553;}
      if (!(x0 === 7)) {
         if (cellvalue("vehicle") === 4) {
            tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
            if (ds.first(tmp) === true) return ds.second(tmp);
            else sofar = ds.second(tmp);}
         x0 = nsh1553;}}
   if (!(x0 === x0)) {
      tmp = onsuccess(new expr(x0), new set(), sofar);
      if (ds.first(tmp) === true) return ds.second(tmp);
      else sofar = ds.second(tmp);
      x0 = nsh1553;}
   return sofar; }

function neg_color_f (onsuccess, nsh1554) { 
   var sofar = new set();
   var tmp;
   var x0 = nsh1554;
   if (hascellvalue("vehicle")) {
      if (cellvalue("vehicle") === 6) {
         var arh1568 = enum_color_type(x0);
         for (var key in ds.data(arh1568)) {
            x0 = ds.element(ds.element(arh1568, key), 0);
            if (!(10 === x0)) {
               if (!(9 === x0)) {
                  if (!(7 === x0)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1569 = enum_color_type(x0);
         for (var key in ds.data(arh1569)) {
            x0 = ds.element(ds.element(arh1569, key), 0);
            if (!(x0 === 10)) {
               if (!(9 === x0)) {
                  if (!(7 === x0)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1570 = enum_color_type(x0);
         for (var key in ds.data(arh1570)) {
            x0 = ds.element(ds.element(arh1570, key), 0);
            if (!(10 === x0)) {
               if (!(x0 === 9)) {
                  if (!(7 === x0)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1571 = enum_color_type(x0);
         for (var key in ds.data(arh1571)) {
            x0 = ds.element(ds.element(arh1571, key), 0);
            if (!(x0 === 10)) {
               if (!(x0 === 9)) {
                  if (!(7 === x0)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1572 = enum_color_type(x0);
         for (var key in ds.data(arh1572)) {
            x0 = ds.element(ds.element(arh1572, key), 0);
            if (!(10 === x0)) {
               if (!(9 === x0)) {
                  if (!(x0 === 7)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1573 = enum_color_type(x0);
         for (var key in ds.data(arh1573)) {
            x0 = ds.element(ds.element(arh1573, key), 0);
            if (!(x0 === 10)) {
               if (!(9 === x0)) {
                  if (!(x0 === 7)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1574 = enum_color_type(x0);
         for (var key in ds.data(arh1574)) {
            x0 = ds.element(ds.element(arh1574, key), 0);
            if (!(10 === x0)) {
               if (!(x0 === 9)) {
                  if (!(x0 === 7)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 6) {
         var arh1575 = enum_color_type(x0);
         for (var key in ds.data(arh1575)) {
            x0 = ds.element(ds.element(arh1575, key), 0);
            if (!(x0 === 10)) {
               if (!(x0 === 9)) {
                  if (!(x0 === 7)) {
                     tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 5) {
         var arh1576 = enum_color_type(x0);
         for (var key in ds.data(arh1576)) {
            x0 = ds.element(ds.element(arh1576, key), 0);
            if (!(7 === x0)) {
               if (!(8 === x0)) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 5) {
         var arh1577 = enum_color_type(x0);
         for (var key in ds.data(arh1577)) {
            x0 = ds.element(ds.element(arh1577, key), 0);
            if (!(8 === x0)) {
               if (!(x0 === 7)) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 5) {
         var arh1578 = enum_color_type(x0);
         for (var key in ds.data(arh1578)) {
            x0 = ds.element(ds.element(arh1578, key), 0);
            if (!(7 === x0)) {
               if (!(x0 === 8)) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 5) {
         var arh1579 = enum_color_type(x0);
         for (var key in ds.data(arh1579)) {
            x0 = ds.element(ds.element(arh1579, key), 0);
            if (!(x0 === 7)) {
               if (!(x0 === 8)) {
                  tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 4) {
         var arh1580 = enum_color_type(x0);
         for (var key in ds.data(arh1580)) {
            x0 = ds.element(ds.element(arh1580, key), 0);
            if (!(7 === x0)) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1554;}
      if (cellvalue("vehicle") === 4) {
         var arh1581 = enum_color_type(x0);
         for (var key in ds.data(arh1581)) {
            x0 = ds.element(ds.element(arh1581, key), 0);
            if (!(x0 === 7)) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1554;}}
   var arh1582 = enum_color_type(x0);
   for (var key in ds.data(arh1582)) {
      x0 = ds.element(ds.element(arh1582, key), 0);
      if (!(x0 === x0)) {
         tmp = onsuccess(new expr(x0), new set(), sofar);
         if (ds.first(tmp) === true) return ds.second(tmp);
         else sofar = ds.second(tmp);}}
   x0 = nsh1554;
   return sofar; }

function negx_vehicle (x0) { return neg_vehicle(function (newval, support, sofar) { 

return new pair(true, newval); }, x0); }

function negs_vehicle (x0) { return neg_vehicle(function (newval, support, sofar) { 

return new pair(false, ds.adjoin(sofar, newval, equalp)); }, x0); }

function negsuppx_vehicle (x0) { return neg_vehicle(function (newval, support, sofar) { 

return new pair(true, new pair(newval, support)); }, x0); }

function negsupps_vehicle (x0) { return neg_vehicle(function (newval, support, sofar) { 

return new pair(false, ds.adjoin(sofar, new pair(newval, support), equalp)); }, x0); }

function neg_vehicle (onsuccess, x0) { 
   if (varp(x0)) {
      if (!(neg_vehicle_f === undefined)) return neg_vehicle_f(onsuccess, x0);
      else return undefined;}
   else {
      if (!(neg_vehicle_b === undefined)) return neg_vehicle_b(onsuccess, x0);
      else return undefined;} }

function neg_vehicle_b (onsuccess, nsh1582) { 
   var sofar = new set();
   var tmp;
   var x0 = nsh1582;
   if (hascellvalue("color")) {
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(10 === tlh0)) {
            if (!(9 === tlh0)) {
               if (!(7 === tlh0)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(tlh0 === 10)) {
            if (!(9 === tlh0)) {
               if (!(7 === tlh0)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(10 === tlh0)) {
            if (!(tlh0 === 9)) {
               if (!(7 === tlh0)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(tlh0 === 10)) {
            if (!(tlh0 === 9)) {
               if (!(7 === tlh0)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(10 === tlh0)) {
            if (!(9 === tlh0)) {
               if (!(tlh0 === 7)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(tlh0 === 10)) {
            if (!(9 === tlh0)) {
               if (!(tlh0 === 7)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(10 === tlh0)) {
            if (!(tlh0 === 9)) {
               if (!(tlh0 === 7)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 6) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(tlh0 === 10)) {
            if (!(tlh0 === 9)) {
               if (!(tlh0 === 7)) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}
         x0 = nsh1582;}
      if (x0 === 5) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(7 === tlh0)) {
            if (!(8 === tlh0)) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1582;}
      if (x0 === 5) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(8 === tlh0)) {
            if (!(tlh0 === 7)) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1582;}
      if (x0 === 5) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(7 === tlh0)) {
            if (!(tlh0 === 8)) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1582;}
      if (x0 === 5) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(tlh0 === 7)) {
            if (!(tlh0 === 8)) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1582;}
      if (x0 === 4) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(7 === tlh0)) {
            tmp = onsuccess(new expr(x0), new set("color"), sofar);
            if (ds.first(tmp) === true) return ds.second(tmp);
            else sofar = ds.second(tmp);}
         x0 = nsh1582;}
      if (x0 === 4) {
         var tlh0 = "tlh0";
         tlh0 = cellvalue("color");
         if (!(tlh0 === 7)) {
            tmp = onsuccess(new expr(x0), new set("color"), sofar);
            if (ds.first(tmp) === true) return ds.second(tmp);
            else sofar = ds.second(tmp);}
         x0 = nsh1582;}
      if (x0 === 4) {
         if (!(cellvalue("color") === 7)) {
            tmp = onsuccess(new expr(x0), new set("color"), sofar);
            if (ds.first(tmp) === true) return ds.second(tmp);
            else sofar = ds.second(tmp);}
         x0 = nsh1582;}}
   if (!(x0 === x0)) {
      tmp = onsuccess(new expr(x0), new set(), sofar);
      if (ds.first(tmp) === true) return ds.second(tmp);
      else sofar = ds.second(tmp);
      x0 = nsh1582;}
   return sofar; }

function neg_vehicle_f (onsuccess, nsh1583) { 
   var sofar = new set();
   var tmp;
   var x0 = nsh1583;
   if (hascellvalue("color")) {
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(10 === tlh0)) {
         if (!(9 === tlh0)) {
            if (!(7 === tlh0)) {
               var arh1598 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1598)) {
                  x0 = ds.element(ds.element(arh1598, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(tlh0 === 10)) {
         if (!(9 === tlh0)) {
            if (!(7 === tlh0)) {
               var arh1599 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1599)) {
                  x0 = ds.element(ds.element(arh1599, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(10 === tlh0)) {
         if (!(tlh0 === 9)) {
            if (!(7 === tlh0)) {
               var arh1600 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1600)) {
                  x0 = ds.element(ds.element(arh1600, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(tlh0 === 10)) {
         if (!(tlh0 === 9)) {
            if (!(7 === tlh0)) {
               var arh1601 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1601)) {
                  x0 = ds.element(ds.element(arh1601, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(10 === tlh0)) {
         if (!(9 === tlh0)) {
            if (!(tlh0 === 7)) {
               var arh1602 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1602)) {
                  x0 = ds.element(ds.element(arh1602, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(tlh0 === 10)) {
         if (!(9 === tlh0)) {
            if (!(tlh0 === 7)) {
               var arh1603 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1603)) {
                  x0 = ds.element(ds.element(arh1603, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(10 === tlh0)) {
         if (!(tlh0 === 9)) {
            if (!(tlh0 === 7)) {
               var arh1604 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1604)) {
                  x0 = ds.element(ds.element(arh1604, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(tlh0 === 10)) {
         if (!(tlh0 === 9)) {
            if (!(tlh0 === 7)) {
               var arh1605 = enum_vehicle_type(x0);
               for (var key in ds.data(arh1605)) {
                  x0 = ds.element(ds.element(arh1605, key), 0);
                  if (x0 === 6) {
                     tmp = onsuccess(new expr(x0), new set("color"), sofar);
                     if (ds.first(tmp) === true) return ds.second(tmp);
                     else sofar = ds.second(tmp);}}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(7 === tlh0)) {
         if (!(8 === tlh0)) {
            var arh1606 = enum_vehicle_type(x0);
            for (var key in ds.data(arh1606)) {
               x0 = ds.element(ds.element(arh1606, key), 0);
               if (x0 === 5) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(8 === tlh0)) {
         if (!(tlh0 === 7)) {
            var arh1607 = enum_vehicle_type(x0);
            for (var key in ds.data(arh1607)) {
               x0 = ds.element(ds.element(arh1607, key), 0);
               if (x0 === 5) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(7 === tlh0)) {
         if (!(tlh0 === 8)) {
            var arh1608 = enum_vehicle_type(x0);
            for (var key in ds.data(arh1608)) {
               x0 = ds.element(ds.element(arh1608, key), 0);
               if (x0 === 5) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(tlh0 === 7)) {
         if (!(tlh0 === 8)) {
            var arh1609 = enum_vehicle_type(x0);
            for (var key in ds.data(arh1609)) {
               x0 = ds.element(ds.element(arh1609, key), 0);
               if (x0 === 5) {
                  tmp = onsuccess(new expr(x0), new set("color"), sofar);
                  if (ds.first(tmp) === true) return ds.second(tmp);
                  else sofar = ds.second(tmp);}}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(7 === tlh0)) {
         var arh1610 = enum_vehicle_type(x0);
         for (var key in ds.data(arh1610)) {
            x0 = ds.element(ds.element(arh1610, key), 0);
            if (x0 === 4) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}}
      x0 = nsh1583;
      var tlh0 = "tlh0";
      tlh0 = cellvalue("color");
      if (!(tlh0 === 7)) {
         var arh1611 = enum_vehicle_type(x0);
         for (var key in ds.data(arh1611)) {
            x0 = ds.element(ds.element(arh1611, key), 0);
            if (x0 === 4) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}}
      x0 = nsh1583;
      if (!(cellvalue("color") === 7)) {
         var arh1612 = enum_vehicle_type(x0);
         for (var key in ds.data(arh1612)) {
            x0 = ds.element(ds.element(arh1612, key), 0);
            if (x0 === 4) {
               tmp = onsuccess(new expr(x0), new set("color"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1583;}}
   var arh1613 = enum_vehicle_type(x0);
   for (var key in ds.data(arh1613)) {
      x0 = ds.element(ds.element(arh1613, key), 0);
      if (!(x0 === x0)) {
         tmp = onsuccess(new expr(x0), new set(), sofar);
         if (ds.first(tmp) === true) return ds.second(tmp);
         else sofar = ds.second(tmp);}}
   x0 = nsh1583;
   return sofar; }

function posx_color (x0) { return pos_color(function (newval, support, sofar) { 

return new pair(true, newval); }, x0); }

function poss_color (x0) { return pos_color(function (newval, support, sofar) { 

return new pair(false, ds.adjoin(sofar, newval, equalp)); }, x0); }

function possuppx_color (x0) { return pos_color(function (newval, support, sofar) { 

return new pair(true, new pair(newval, support)); }, x0); }

function possupps_color (x0) { return pos_color(function (newval, support, sofar) { 

return new pair(false, ds.adjoin(sofar, new pair(newval, support), equalp)); }, x0); }

function pos_color (onsuccess, x0) { 
   if (varp(x0)) {
      if (!(pos_color_f === undefined)) return pos_color_f(onsuccess, x0);
      else return undefined;}
   else {
      if (!(pos_color_b === undefined)) return pos_color_b(onsuccess, x0);
      else return undefined;} }

function pos_color_b (onsuccess, nsh1613) { 
   var sofar = new set();
   var tmp;
   var x0 = nsh1613;
   if (hascellvalue("vehicle")) {
      if (x0 === 7) {
         if (cellvalue("vehicle") === 4) {
            tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
            if (ds.first(tmp) === true) return ds.second(tmp);
            else sofar = ds.second(tmp);}
         x0 = nsh1613;}}
   return sofar; }

function pos_color_f (onsuccess, nsh1614) { 
   var sofar = new set();
   var tmp;
   var x0 = nsh1614;
   if (hascellvalue("vehicle")) {
      if (cellvalue("vehicle") === 4) {
         var arh1614 = enum_color_type(x0);
         for (var key in ds.data(arh1614)) {
            x0 = ds.element(ds.element(arh1614, key), 0);
            if (x0 === 7) {
               tmp = onsuccess(new expr(x0), new set("vehicle"), sofar);
               if (ds.first(tmp) === true) return ds.second(tmp);
               else sofar = ds.second(tmp);}}
         x0 = nsh1614;}}
   return sofar; }

</script>
</head>
<body leftmargin='0' topmargin='0' marginwidth='0' marginheight='0' bgcolor='WHITE'>
<body onload='init()'>
<div class="structure">
<div class="whiteongray">
	<div class="header">
		<div class="title">Plato</div>
	<div class="navigation">
	
		<span class="nav1"><a href="/plato/">Home</a></span>
		<span class="nav"><a href="editwebsheet?">New Form</a></span>
		<span class="nav"><a href="openwebsheet?">Open Form</a></span>		
		<span class="nav"><a href="/docserver/infoserver/examples/researchmaster/pages/plato-gallery.html">Gallery</a></span>
	</div>
</div></div>

<div class="bodytext">

<p><div style="font-size: 150%; font-style: bold; text-align: center;">
Plato: From Platonic forms to gritty realities.
</div>

<!--
<h3>Note:</h3>  We've recently discovered some problems with the site when using Google Chrome.  Until we iron out the kinks, Firefox should work.
-->

<h3>Introduction</h3>
Modern web forms are difficult to build and maintain because they identify user errors and automatically fill in implied values, all in real time.  Plato simplifies web form construction by automatically generating the HTML for a form (which is easy) and the associated JavaScript that computes errors and implied values (which is hard).  

<p>To use Plato, a web programmer writes constraints on the web form's data using <b>first-order logic</b> and invokes Plato to generate the form.  A set of values constitutes an <b>error</b> whenever those values are logically inconsistent with the programmer-provided constraints, and a value is <b>implied</b> whenever the web form data plus the constraints logically entail (or imply) the value (though we use a <b>paraconsistent</b> notion of entailment to avoid the problem of all values being implied in the presence of errors, as traditional entailment requires).

<p>The following form was generated by Plato.  It allows users to select a Toyota vehicle and color.  Some vehicles are only available in one color (thereby implying the color), and some vehicles and colors are not manufactured by Toyota (thus those combinations are errors).

<div class="autoform">
<span id="status"></span><center>
<form method="post" action="/plato/commitform?" onsubmit="return submitprep()">
<table>
<tr><td class="description"><span class="description">Toyota Vehicle</span></td>
<td class="required"><span class="required"></span></td>
<td class="data"><div id="vehiclebox" class="databox" onMouseOver="selector_mouseover('vehicle')" onMouseOut="selector_mouseout('vehicle')" >
<select name='vehicle' onChange="selector_change('vehicle')" onFocus="selector_focus('vehicle')"><option value='undefined'></option>
<option value='4'>Camry</option>
<option value='5'>Corolla</option>
<option value='6'>Tundra</option>

</select></div></td></tr>
<tr><td class="description"><span class="description">Color</span></td>
<td class="required"><span class="required"></span></td>
<td class="data"><div id="colorbox" class="databox" onMouseOver="selector_mouseover('color')" onMouseOut="selector_mouseout('color')" >
<select name='color' onChange="selector_change('color')" onFocus="selector_focus('color')"><option value='undefined'></option>
<option value='7'>Super White</option>
<option value='8'>Magnetic Gray Metallic</option>
<option value='9'>Black</option>
<option value='10'>Nautical Blue Metallic</option>
</select></div></td></tr>
</table>
</form></center></div>

<p>To see how the example works, try the following.
<ol>
<li>Select Camry for the vehicle.  
</ol>
The form automatically fills in the value for the color field because that value is implied and highlights the field in green.
<ol start="2"><li>Mouse over the color field.</ol>
The form highlights the vehicle field since it is the cause of the implied color.

<ol start="3"><li>Click the Color drop-down.</ol>
Some of the colors are annotated with minus signs (-) (or colored red depending on your browser); selecting one of those values will cause an error.  Likewise, one value (Super White) is annotated with plus signs (+) (or colored green), denoting that it is implied.  Unannotated values (those in black) are neither a cause of error nor implied.

<ol start="4"><li>Select any of the error-causing values, e.g. Black.</ol>
The form recognizes that the combination of the vehicle and color cells is an error and paints both red.  Mouseover either cell and the other is highlighted with purple, illustrating the causes of the error.  (For larger forms with multiple errors, the purple highlighting helps identify the causes of each error.)

<ol start="5"><li>Delete the color value by selecting the blank drop-down item.</ol>
The form automatically refills color with the implied value Super White.  Deleting a value from a field tells the form to resume control of that field.

<p>The <a href="editwebsheet?file=infoserver/examples/researchmaster/wsgallery/toyotasmall.plato">Plato input</a> for this form asks for display properties of the two widgets, the set of possible values for each widget, and constraints defining the permissible combination of widget values.  For more examples, peruse the <a href="/docserver/infoserver/examples/researchmaster/pages/plato-gallery.html">gallery</a>.

<h3>Name Origins</h3>

<p>The name Plato derives from Plato's theory of Forms (capital "F"), which is concerned with the distinction between ideas and real-world instances of those ideas. Our Plato system allows web developers to focus on the highlevel ideas for a form (lower-case "f") and automatically constructs a real-world instance of those ideas.

<h3>Site Guide</h3>
Currently this site consists of two points of interest, both of which are available from the navigation bar at the top of the page.
<ul>
<li><a href="editwebsheet?">New Form</a>: create a new form from scratch.
<li><a href="openwebsheet?">Open Form</a>: resume editing a previously created form.
<li><a href="/docserver/infoserver/examples/researchmaster/pages/plato-gallery.html">Gallery</a>: 
Examine a series of real world forms re-worked using Plato.  
</ul>

<center><div style="font-size: 70%; margin-top: 30px; border-top: 1px solid gray; width: 80%; padding-top: 4px;">
Comments and suggestions to &#116;&#108;&#104;&#64;&#117;&#99;&#104;&#105;&#99;&#97;&#103;&#111;&#46;&#101;&#100;&#117;
</div></center>
</div></div>
</body>
</html>