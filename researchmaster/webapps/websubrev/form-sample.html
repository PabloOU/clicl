<script src="http://code.jquery.com/jquery-latest.js"></script>
<html>
<head>
	<title>Demo</title>
	<script>
	$(function() {
		function addAuthorRow(e) {
			var $row = $('.author-row:last');
			var $newRow = $row.clone();
			
			//remove the add row link to the old row
			$row.children('a:first').remove();
			
			//compute the new rowIndex
			var newRowIndex = $('.author-row').index($row) + 1;
			
			//fetch all the input fields
			var $inputs = $newRow.children('input');
			//update the name attributes
			$($inputs[0]).attr('name', 'author[' + newRowIndex + ']'); // AUTHOR
			$($inputs[1]).attr('name', 'email[' + newRowIndex + ']'); // EMAIL
			
			//append the new row as a previous row sibling
			$row.parent().append($newRow);

			//block any other action by the <a> tag
			e.preventDefault();
			
			return true;
		}
		$('#foo').live("click", addAuthorRow);
	});
	</script>
</head>
<body>
<form id='authors'>
	<div class='author-row'>
		Author: <input type="text" name="author[0]"/>
		Email: <input type="text" name="email[0]"/>
		<a id='foo' class='add-button' href="">Add row</a>
	</div>
</form>

</body>
</html>